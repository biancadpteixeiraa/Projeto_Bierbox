"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[238],{238:(e,r,s)=>{s.d(r,{default:()=>g});var a=s(5155),t=s(2115),l=s(4989),n=s(4087),i=s(9265),o=s(9540),c=s(5229),d=s(2262),x=s(2619),m=s.n(x),u=s(63),h=s(3569),f=s(3129),p=s(2171),y=s(7941);function j(e){var r,s;let{isOpen:n,onClose:i}=e,{carrinho:o,loadCarrinho:d,removeItem:x}=(0,y.O)();(0,t.useEffect)(()=>{n&&d()},[n]),console.log(o);let m=(null==o||null==(r=o.itens)?void 0:r.reduce((e,r)=>e+parseFloat(r.preco_unitario.replace(",",".")),0).toFixed(2).replace(".",","))||"0,00";return(0,a.jsxs)(l.lG,{open:n,onClose:i,className:"relative z-10 font-secondary",children:[(0,a.jsx)(l.Xi,{transition:!0,className:"fixed inset-0 bg-gray-500/75 transition-opacity duration-500 ease-in-out data-closed:opacity-0"}),(0,a.jsx)("div",{className:"fixed inset-0 overflow-hidden",children:(0,a.jsx)("div",{className:"absolute inset-0 overflow-hidden",children:(0,a.jsx)("div",{className:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10 sm:pl-16",children:(0,a.jsx)(l.Lj,{transition:!0,className:"pointer-events-auto w-screen max-w-md transform transition duration-500 ease-in-out data-closed:translate-x-full sm:duration-700",children:(0,a.jsxs)("div",{className:"flex h-full flex-col overflow-y-auto bg-white shadow-xl",children:[(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto py-6",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between sm:px-6 pb-3",children:[(0,a.jsxs)("div",{className:"flex items-center pr-4 lg:pr-0",children:[(0,a.jsx)(f.A,{fill:"#654A1F",className:"size-10 text-beige-primary"}),(0,a.jsx)("span",{className:"flex items-center justify-center text-xs bg-brown-tertiary text-beige-primary rounded-full min-w-[20px] h-5 px-1 font-medium -ml-1",children:(null==o||null==(s=o.itens)?void 0:s.length)||0}),(0,a.jsx)(l.L3,{className:"text-lg font-bold text-brown-tertiary px-5",children:"Minha Geladeira:"})]}),(0,a.jsx)("div",{className:"ml-3 flex h-7 items-center",children:(0,a.jsxs)("button",{type:"button",onClick:i,className:"relative -m-2 p-2 text-gray-400 hover:text-gray-500",children:[(0,a.jsx)("span",{className:"absolute -inset-0.5"}),(0,a.jsx)("span",{className:"sr-only",children:"Close panel"}),(0,a.jsx)(h.A,{"aria-hidden":"true",className:"size-6"})]})})]}),(0,a.jsx)("hr",{className:"h-[1.5px] w-full bg-brown-tertiary"}),(0,a.jsx)("div",{className:"mt-8 sm:px-6",children:(0,a.jsx)("div",{className:"flow-root",children:(0,a.jsx)("ul",{role:"list",className:"-my-6",children:(null==o?void 0:o.itens)&&o.itens.length>0?o.itens.map(e=>(0,a.jsxs)("li",{className:"flex py-6",children:[(0,a.jsx)("div",{className:"size-24 shrink-0 overflow-hidden rounded-md border border-yellow-tertiary",children:(0,a.jsx)("img",{alt:e.nome,src:"https://rezenha.ze.delivery/wp-content/uploads/2025/02/temperatura-da-cerveja-1024x768.webp",className:"size-full object-cover"})}),(0,a.jsxs)("div",{className:"ml-4 flex flex-1 justify-between flex-col",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex justify-between text-lg font-medium text-yellow-primary",children:(0,a.jsx)("h3",{children:e.nome})}),(0,a.jsxs)("p",{className:"text-brown-tertiary font-bold text-xl",children:["R$ ",e.preco_unitario]})]}),(0,a.jsx)("div",{className:"flex flex-col text-sm",children:(0,a.jsxs)("span",{className:"text-gray-500",children:["Qtd: ",e.quantidade]})})]}),(0,a.jsx)("div",{className:"flex items-start",children:(0,a.jsx)("button",{type:"button",onClick:()=>x(e.box_id),className:"text-brown-tertiary",children:(0,a.jsx)(c.A,{"aria-hidden":"true",className:"size-6"})})})]},e.id)):(0,a.jsx)("p",{className:"text-center text-gray-500",children:"Seu carrinho est\xe1 vazio"})})})})]}),(0,a.jsxs)("div",{className:"border-t border-brown-tertiary px-4 py-6 sm:px-6",children:[(0,a.jsxs)("div",{className:"flex justify-between text-lg font-bold text-brown-tertiary",children:[(0,a.jsx)("p",{className:"uppercase",children:"Total"}),(0,a.jsxs)("p",{children:["R$ ",m||"0,00"]})]}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsx)(p.A,{variant:"quinary",className:"w-full font-bold",children:"Finalizar Pedido"})})]})]})})})})})]})}var b=s(4674);function g(){var e;let[r,s]=(0,t.useState)(!1),[x,h]=(0,t.useState)(!1),f=(0,b.A)(),{carrinho:p}=(0,y.O)(),g=(0,u.usePathname)(),v=[{href:"/planos",label:"Planos de Assinatura"},{href:"/descubra",label:"Descubra sua Box"},{href:"/rota-da-cerveja",label:"Rota da Cerveja"},{href:"/quem-somos",label:"Quem Somos"}];return(0,a.jsxs)("header",{className:"bg-white flex flex-col font-secondary",children:[(0,a.jsxs)("div",{className:"bg-beige-primary py-1 px-10",children:[(0,a.jsxs)("nav",{"aria-label":"Global",className:"mx-auto flex max-w-6xl items-center",children:[(0,a.jsx)("div",{className:"flex w-full lg:flex-1 lg:justify-start justify-center",children:(0,a.jsxs)("a",{href:"/",className:"",children:[(0,a.jsx)("span",{className:"sr-only",children:"BierBox"}),(0,a.jsx)("img",{alt:"",src:"/Logo.png",className:"sm:size-20 size-auto"})]})}),(0,a.jsxs)("div",{className:"flex flex-1 justify-end gap-20",children:[(null==f?void 0:f.user)?(0,a.jsx)(m(),{href:"/dashboard/".concat(f.user.id),children:(0,a.jsx)(d.Icon,{icon:"mdi:gear",className:"text-4xl text-brown-secondary"})}):(0,a.jsxs)("div",{className:"hidden lg:flex lg:items-center gap-2",children:[(0,a.jsx)(i.A,{className:"size-6 text-brown-secondary"}),(0,a.jsxs)("p",{className:"text-brown-secondary text-xs font-medium",children:["Ol\xe1!",(0,a.jsx)("br",{}),(0,a.jsxs)("span",{children:[(0,a.jsx)(m(),{href:"/login",className:"underline font-bold",children:"Entre"})," "]}),"ou",(0,a.jsxs)("span",{children:[" ",(0,a.jsx)(m(),{href:"/cadastro",className:"underline font-bold",children:"Cadastre-se"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center pr-4 lg:pr-0",children:[(0,a.jsx)("button",{onClick:()=>{h(!0)},children:(0,a.jsx)(d.Icon,{icon:"mdi:refrigerator",className:"size-8 text-brown-secondary"})}),(0,a.jsx)("span",{className:"flex items-center justify-center text-[10px] bg-brown-tertiary text-beige-primary rounded-full min-w-[15px] h-4 px-1 font-medium -ml-1",children:(null==p||null==(e=p.itens)?void 0:e.length)||0})]})]}),(0,a.jsx)("div",{className:"flex lg:hidden justify-end",children:(0,a.jsxs)("button",{type:"button",onClick:()=>s(!0),className:"-m-2.5 inline-flex items-center justify-center rounded-md p-2.5 text-gray-secondary",children:[(0,a.jsx)("span",{className:"sr-only",children:"Menu"}),(0,a.jsx)(o.A,{"aria-hidden":"true",className:"size-6"})]})})]}),(0,a.jsxs)(l.lG,{open:r,onClose:s,className:"lg:hidden",children:[(0,a.jsx)("div",{className:"fixed inset-0 z-50"}),(0,a.jsxs)(l.Lj,{className:"fixed inset-y-0 right-0 z-50 w-full overflow-y-auto bg-beige-primary sm:max-w-sm sm:ring-1 sm:ring-brown-secondary rounded-l-xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-6 py-4",children:[(0,a.jsxs)("a",{href:"/",className:"-m-1.5 p-1.5",children:[(0,a.jsx)("span",{className:"sr-only",children:"BierBox"}),(0,a.jsx)("img",{alt:"",src:"/Logo.png",className:"size-20"})]}),(0,a.jsxs)("button",{type:"button",onClick:()=>s(!1),className:"-m-2.5 rounded-md p-2.5 text-gray-secondary",children:[(0,a.jsx)("span",{className:"sr-only",children:"Close menu"}),(0,a.jsx)(c.A,{"aria-hidden":"true",className:"size-6"})]})]}),(0,a.jsx)("hr",{className:" h-0.25 w-full bg-brown-primary"}),(0,a.jsxs)("div",{className:"mt-6 flow-root px-6 py-4",children:[(0,a.jsx)("div",{className:"",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 -mx-1",children:[(0,a.jsx)(i.A,{className:"size-9 text-brown-secondary"}),(0,a.jsxs)("p",{className:"text-brown-secondary text-lg",children:["Ol\xe1!",(0,a.jsx)("br",{}),(0,a.jsxs)("span",{children:[(0,a.jsx)(m(),{href:"/login",className:"underline font-bold",children:"Entre"})," "]}),"ou",(0,a.jsxs)("span",{children:[" ",(0,a.jsx)(m(),{href:"/cadastro",className:"underline font-bold",children:"Cadastre-se"})]})]})]})}),(0,a.jsx)("div",{className:"space-y-2 py-8",children:v.map(e=>(0,a.jsx)(m(),{href:e.href,className:"block py-2 text-lg text-brown-primary lg:mx-8 mx-auto hover:font-semibold ".concat(g===e.href?"font-semibold underline":""),children:e.label},e.href))})]})]})]})]}),(0,a.jsx)("div",{className:"bg-yellow-primary hidden lg:block py-1",children:(0,a.jsx)("nav",{"aria-label":"Global",className:"mx-auto flex max-w-7xl items-center justify-center px-5 py-4 lg:px-8",children:(0,a.jsx)(n.t_,{className:"hidden lg:flex lg:gap-x-20",children:v.map(e=>(0,a.jsx)(m(),{href:e.href,className:"text-sm text-beige-primary lg:mx-9 mx-auto hover:font-semibold ".concat(g===e.href?"font-semibold":""),children:e.label},e.href))})})}),(0,a.jsx)(j,{isOpen:x,onClose:()=>{h(!1)}})]})}},2171:(e,r,s)=>{s.d(r,{A:()=>l});var a=s(5155),t=s(8456);function l(e){let{children:r,variant:s="primary",...l}=e;return(0,a.jsx)("button",{...l,className:(0,t.cn)("whitespace-nowrap rounded-lg px-6 py-3 text-base","primary"===s&&"bg-yellow-primary text-beige-primary","secondary"===s&&"bg-yellow-secondary text-brown-tertiary","tertiary"===s&&"bg-beige-primary text-yellow-primary border border-yellow-primary border-4","quaternary"===s&&"bg-yellow-secondary text-beige-primary","quinary"===s&&"bg-green-primary text-beige-primary","senary"===s&&"bg-beige-primary text-yellow-secondary border border-yellow-secondary",l.className),children:r})}},4674:(e,r,s)=>{s.d(r,{A:()=>d,AuthProvider:()=>c});var a=s(5155),t=s(2115),l=s(5328),n=s(63),i=s(4744);let o=(0,t.createContext)(void 0);function c(e){let{children:r}=e,[s,c]=(0,t.useState)(null),[d,x]=(0,t.useState)(null),[m,u]=(0,t.useState)(!0),h=(0,n.useRouter)();(0,t.useEffect)(()=>{let e=localStorage.getItem("token"),r=localStorage.getItem("user");e&&c(e),r&&x(JSON.parse(r)),u(!1)},[]);let f=async(e,r)=>{u(!0);try{let s=await l.A.post("/users/login",{email:e,senha:r});if(s.data.success){let{token:e,user:r}=s.data;c(e),x(r),localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(r));let a=localStorage.getItem("redirectAfterAuth");a?(localStorage.removeItem("redirectAfterAuth"),h.push(a)):h.push("/dashboard/".concat(r.id))}else i.oR.error("Falha ao realizar login, tente novamente!"),console.error(s.data.message)}catch(e){console.error("Erro no login:",e),i.oR.error("Falha no login. Verifique suas credenciais!")}finally{u(!1)}},p=async(e,r,s,a)=>{u(!0);try{let t=await l.A.post("/users/register",{nome_completo:e,email:r,cpf:s,senha:a});t.data.success?(i.oR.success("Cadastro realizado com sucesso!"),await f(r,a)):(i.oR.error("Falha no cadastro. Tente novamente."),console.error(t.data.message))}catch(e){console.error("Erro no cadastro:",e),i.oR.error("Falha no cadastro. Tente novamente.")}finally{u(!1)}};return(0,a.jsx)(o.Provider,{value:{isAuthenticated:!!s,login:f,loading:m,register:p,logout:()=>{c(null),x(null),localStorage.removeItem("token"),localStorage.removeItem("user"),u(!1),h.push("/")},token:s,user:d},children:r})}function d(){let e=(0,t.useContext)(o);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},5328:(e,r,s)=>{s.d(r,{A:()=>a});let a=s(5125).A.create({baseURL:"https://54327051f610.ngrok-free.app",headers:{"ngrok-skip-browser-warning":"true"}})},7941:(e,r,s)=>{s.d(r,{CarrinhoProvider:()=>m,O:()=>u});var a=s(5155),t=s(2115),l=s(5328);async function n(e){return(await l.A.get("/carrinho",{headers:{Authorization:"Bearer ".concat(e)}})).data}async function i(e,r,s,a){return(await l.A.post("/carrinho/adicionar",{box_id:r,quantidade:s,tipo_plano:a},{headers:{Authorization:"Bearer ".concat(e)}})).data}async function o(e,r){return(await l.A.delete("/carrinho/remover/".concat(r),{headers:{Authorization:"Bearer ".concat(e)}})).data}var c=s(4674),d=s(4744);let x=(0,t.createContext)(void 0);function m(e){let{children:r}=e,{token:s}=(0,c.A)(),[l,m]=(0,t.useState)(null),u=async()=>{if(s)try{let e=await n(s);e.success?m(e.carrinho):d.oR.error(e.message||"Erro ao carregar carrinho!")}catch(e){console.error(e),d.oR.error("Erro inesperado ao carregar carrinho!")}};(0,t.useEffect)(()=>{if(!s)return void m(null);u()},[s]);let h=async(e,r,a)=>{if(s){if(null==l?void 0:l.itens.find(r=>r.box_id===e))return void d.oR.warning("Esse item j\xe1 est\xe1 no seu carrinho!");try{let t=await i(s,e,r,a);t.success?(m(t.carrinho),d.oR.success("Item adicionado ao carrinho!")):(d.oR.error(t.message||"Erro ao adicionar item ao carrinho!"),console.error("Erro ao adicionar item ao carrinho:",t.message))}catch(e){console.error(e),d.oR.error("Erro inesperado ao adicionar item!")}}},f=async e=>{if(!s)return;let r=await o(s,e);r.success?(m(r.carrinho),d.oR.success("Item removido do carrinho com sucesso!")):(d.oR.error("Erro ao remover item do carrinho!"),console.error("Erro ao remover item do carrinho: "+r.message))};return(0,a.jsx)(x.Provider,{value:{carrinho:l,loadCarrinho:u,addItem:h,removeItem:f},children:r})}function u(){let e=(0,t.useContext)(x);if(!e)throw Error("useCarrinho must be used within a CarrinhoProvider");return e}},8456:(e,r,s)=>{s.d(r,{cn:()=>l});var a=s(2821),t=s(5889);function l(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return(0,t.QP)((0,a.$)(r))}}}]);