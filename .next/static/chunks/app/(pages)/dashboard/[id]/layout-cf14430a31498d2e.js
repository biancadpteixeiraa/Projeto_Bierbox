(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[714],{579:(e,r,t)=>{"use strict";t.d(r,{default:()=>l});var a=t(5155),s=t(63),n=t(4674),o=t(2115);function l(e){let{children:r}=e,{user:t,loading:l}=(0,n.A)(),i=(0,s.useRouter)(),[c,d]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{l||t||(d(!0),i.push("/"))},[t,l]),l||c)?(0,a.jsxs)("div",{className:"flex justify-center items-center h-screen",children:[(0,a.jsx)("p",{className:"mr-4 text-lg",children:"Carregando..."}),(0,a.jsxs)("svg",{className:"animate-spin h-12 w-12 text-yellow-primary",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]})]}):(0,a.jsx)(a.Fragment,{children:r})}},2171:(e,r,t)=>{"use strict";t.d(r,{A:()=>n});var a=t(5155),s=t(8456);function n(e){let{children:r,variant:t="primary",...n}=e;return(0,a.jsx)("button",{...n,className:(0,s.cn)("whitespace-nowrap rounded-lg px-6 py-3 text-base","primary"===t&&"bg-yellow-primary text-beige-primary","secondary"===t&&"bg-yellow-secondary text-brown-tertiary","tertiary"===t&&"bg-beige-primary text-yellow-primary border border-yellow-primary border-4","quaternary"===t&&"bg-yellow-secondary text-beige-primary","quinary"===t&&"bg-green-primary text-beige-primary","senary"===t&&"bg-beige-primary text-yellow-secondary border border-yellow-secondary",n.className),children:r})}},3569:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});var a=t(2115);let s=a.forwardRef(function(e,r){let{title:t,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},n),t?a.createElement("title",{id:s},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))})},4674:(e,r,t)=>{"use strict";t.d(r,{A:()=>d,AuthProvider:()=>c});var a=t(5155),s=t(2115),n=t(5328),o=t(63),l=t(4744);let i=(0,s.createContext)(void 0);function c(e){let{children:r}=e,[t,c]=(0,s.useState)(null),[d,u]=(0,s.useState)(null),[m,h]=(0,s.useState)(!0),f=(0,o.useRouter)();(0,s.useEffect)(()=>{let e=localStorage.getItem("token"),r=localStorage.getItem("user");e&&c(e),r&&u(JSON.parse(r)),h(!1)},[]);let x=async(e,r)=>{h(!0);try{let t=await n.A.post("/users/login",{email:e,senha:r});if(t.data.success){let{token:e,user:r}=t.data;c(e),u(r),localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(r));let a=localStorage.getItem("redirectAfterAuth");a?(localStorage.removeItem("redirectAfterAuth"),f.push(a)):f.push("/dashboard/".concat(r.id))}else l.oR.error("Falha ao realizar login, tente novamente!"),console.error(t.data.message)}catch(e){console.error("Erro no login:",e),l.oR.error("Falha no login. Verifique suas credenciais!")}finally{h(!1)}},y=async(e,r,t,a)=>{h(!0);try{let s=await n.A.post("/users/register",{nome_completo:e,email:r,cpf:t,senha:a});s.data.success?(l.oR.success("Cadastro realizado com sucesso!"),await x(r,a)):(l.oR.error("Falha no cadastro. Tente novamente."),console.error(s.data.message))}catch(e){console.error("Erro no cadastro:",e),l.oR.error("Falha no cadastro. Tente novamente.")}finally{h(!1)}};return(0,a.jsx)(i.Provider,{value:{isAuthenticated:!!t,login:x,loading:m,register:y,logout:()=>{c(null),u(null),localStorage.removeItem("token"),localStorage.removeItem("user"),h(!1),f.push("/")},token:t,user:d},children:r})}function d(){let e=(0,s.useContext)(i);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},5328:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=t(5125).A.create({baseURL:"https://54327051f610.ngrok-free.app",headers:{"ngrok-skip-browser-warning":"true"}})},7361:(e,r,t)=>{"use strict";t.d(r,{default:()=>y});var a=t(5155),s=t(2262),n=t(3569),o=t(2115);let l=o.forwardRef(function(e,r){let{title:t,titleId:a,...s}=e;return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},s),t?o.createElement("title",{id:a},t):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))});var i=t(2619),c=t.n(i),d=t(63),u=t(8456);let m=[{name:"Informa\xe7\xf5es Pessoais",href:"/dashboard/id"},{name:"Planos de Assinatura",href:"/dashboard/id/assinaturas"}];function h(){let e=(0,d.usePathname)();return(0,a.jsx)(a.Fragment,{children:m.map(r=>(0,a.jsx)(c(),{href:r.href,className:(0,u.cn)("flex h-[48px] grow items-center gap-2 rounded-l-[10px] text-brown-tertiary text-base font-medium hover:bg-second-blue/10 md:flex-none md:justify-start",{"text-brown-tertiary":e===r.href}),children:(0,a.jsx)("p",{children:r.name})},r.name))})}var f=t(2171),x=t(4674);function y(){let[e,r]=(0,o.useState)(!1),{logout:t}=(0,x.A)();return(0,a.jsxs)("div",{className:"flex h-full w-full flex-col items-center justify-center md:py-4 py-1 bg-beige-secondary",children:[(0,a.jsx)("button",{className:"absolute left-4 top-6 z-50 block md:hidden",onClick:()=>r(!e),children:e?(0,a.jsx)(n.A,{className:"h-11 w-11 text-white"}):(0,a.jsx)(l,{className:"h-11 w-11 text-white"})}),(0,a.jsxs)("div",{className:"flex grow flex-col justify-between  md:space-x-2 md:pt-0 fixed inset-y-0 left-0 z-40 w-64 bg-main-blue ps-4 pt-18 transition-transform duration-300 ease-in-out \n          ".concat(e?"translate-x-0":"-translate-x-full"," md:relative md:translate-x-0"),children:[(0,a.jsxs)("button",{className:"m-0",onClick:()=>r(!1),children:[(0,a.jsx)(c(),{href:"/",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(s.Icon,{icon:"solar:arrow-left-outline",className:"text-3xl text-yellow-secondary"}),(0,a.jsx)("p",{className:"text-lg font-secondary text-yellow-secondary font-semibold",children:"Voltar ao in\xedcio"})]})}),(0,a.jsx)(h,{})]}),(0,a.jsx)("div",{className:"flex flex-col items-center justify-center md:mb-4 mb-6",children:(0,a.jsx)(f.A,{onClick:t,className:"w-full",variant:"quaternary",children:"Sair"})})]})]})}},8283:(e,r,t)=>{Promise.resolve().then(t.bind(t,7361)),Promise.resolve().then(t.bind(t,579))},8456:(e,r,t)=>{"use strict";t.d(r,{cn:()=>n});var a=t(2821),s=t(5889);function n(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,s.QP)((0,a.$)(r))}}},e=>{e.O(0,[557,889,262,619,441,255,358],()=>e(e.s=8283)),_N_E=e.O()}]);